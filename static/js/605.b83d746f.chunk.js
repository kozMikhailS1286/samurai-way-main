"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[605],{9605:function(t,s,e){e.r(s),e.d(s,{default:function(){return y}});var i=e(2791),n="ProfileInfo_descriptionBlock__3wciT",r=e(4374),u=e(885),a=e(184),o=function(t){var s=(0,i.useState)(!1),e=(0,u.Z)(s,2),n=e[0],r=e[1],o=(0,i.useState)(t.status),l=(0,u.Z)(o,2),d=l[0],c=l[1];(0,i.useEffect)((function(){c(t.status)}),[t.status]);return(0,a.jsxs)("div",{children:[!n&&(0,a.jsx)("div",{children:(0,a.jsxs)("span",{onDoubleClick:function(){r(!0)},children:[" ",t.status||"Enter your status"," "]})}),n&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.setProfileStatus(d),t.updateStatus(d)},value:d})})]})},l=function(t){return t.profile?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:n,children:[t.profile.photos.large?(0,a.jsx)("img",{src:t.profile.photos.large}):"\u041d\u0435\u0442 \u0444\u043e\u0442\u043e",(0,a.jsx)(o,{status:t.status,updateStatus:t.updateStatus,setProfileStatus:t.setProfileStatus}),t.isOwner&&(0,a.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&t.setPhotoTC(s.target.files[0])}})]})}):(0,a.jsx)(r.Z,{})},d="Post_item__Qkg42",c=function(t){return(0,a.jsxs)("div",{className:d,children:[(0,a.jsx)("img",{src:"https://cdn1.flamp.ru/489671bbc112e7621d7d9f013bbb8a49_100_100.jpg"}),t.message,(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:" like "})," ",t.likesCount]})]})},f="MyPosts_postsBlock__q4d-u",p="MyPosts_posts__aTeRb",h=e(6139),m=e(704),j=e(9297),x=e(6854),P=(0,j.D)(10),g=i.memo((function(t){var s=t.posts.map((function(t){return(0,a.jsx)(c,{id:t.id,message:t.message,likesCount:t.likesCount})}));return(0,a.jsxs)("div",{className:f,children:[(0,a.jsx)("h3",{children:" My posts "}),(0,a.jsx)(C,{onSubmit:function(s){t.addPost(s.newMessagePost)}}),(0,a.jsx)("div",{className:p,children:s})]})})),C=(0,m.Z)({form:"postAddMessageForm"})((function(t){return(0,a.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,a.jsx)("div",{children:(0,a.jsx)(h.Z,{name:"newMessagePost",component:x.gx,placeholder:"Enter your post message",validate:[j.C,P]})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:" Add post "})})]})})),S=g,v=e(4136),_=e(8687),T=e(7781),b=(0,T.qC)((0,_.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,v.Pi)(s))}}})))(S),k=function(t){return(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,setProfileStatus:t.setProfileStatus,isOwner:t.isOwner,setPhotoTC:t.setPhotoTC}),(0,a.jsx)(b,{})]})};var w=(0,e(9271).EN)((function(t){return(0,i.useEffect)((function(){var s,e=null!==(s=t.match.params.userId)&&void 0!==s?s:t.meId;e||t.history.push("/login"),t.getUserProfileTC(e),t.getProfileStatusTC(e)}),[t.match.params.userId,t.meId]),(0,a.jsx)("div",{children:(0,a.jsx)(k,{profile:t.profile,status:t.status,updateStatus:t.updateStatusTC,setProfileStatus:t.setProfileStatusAC,isOwner:!t.match.params.userId,setPhotoTC:t.setPhotoTC})})})),y=(0,T.qC)((0,_.$j)((function(t){return{profile:t.profilePage.profile,meId:t.auth.userId,status:t.profilePage.status}}),{getUserProfileTC:v.d$,getProfileStatusTC:v.bs,updateStatusTC:v.OG,setProfileStatusAC:v.at,setPhotoTC:v.n6}))(w)}}]);
//# sourceMappingURL=605.b83d746f.chunk.js.map