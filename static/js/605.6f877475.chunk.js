"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[605],{9605:function(s,t,e){e.r(t),e.d(t,{default:function(){return w}});var u=e(2791),r="ProfileInfo_descriptionBlock__3wciT",a=e(4374),i=e(885),n=e(184),o=function(s){var t=(0,u.useState)(!1),e=(0,i.Z)(t,2),r=e[0],a=e[1],o=(0,u.useState)(s.status),l=(0,i.Z)(o,2),d=l[0],c=l[1];(0,u.useEffect)((function(){c(s.status)}),[s.status]);return(0,n.jsxs)("div",{children:[!r&&(0,n.jsx)("div",{children:(0,n.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[" ",s.status||"Enter your status"," "]})}),r&&(0,n.jsx)("div",{children:(0,n.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),s.setProfileStatus(d),s.updateStatus(d)},value:d})})]})},l=function(s){return s.profile?(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:r,children:[s.profile.photos.large?(0,n.jsx)("img",{src:s.profile.photos.large}):"\u041d\u0435\u0442 \u0444\u043e\u0442\u043e",(0,n.jsx)(o,{status:s.status,updateStatus:s.updateStatus,setProfileStatus:s.setProfileStatus})]})}):(0,n.jsx)(a.Z,{})},d="Post_item__Qkg42",c=function(s){return(0,n.jsxs)("div",{className:d,children:[(0,n.jsx)("img",{src:"https://cdn1.flamp.ru/489671bbc112e7621d7d9f013bbb8a49_100_100.jpg"}),s.message,(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:" like "})," ",s.likesCount]})]})},f="MyPosts_postsBlock__q4d-u",p="MyPosts_posts__aTeRb",h=e(6139),j=e(704),m=e(9297),x=e(6854),g=(0,m.D)(10),P=u.memo((function(s){var t=s.posts.map((function(s){return(0,n.jsx)(c,{id:s.id,message:s.message,likesCount:s.likesCount})}));return(0,n.jsxs)("div",{className:f,children:[(0,n.jsx)("h3",{children:" My posts "}),(0,n.jsx)(S,{onSubmit:function(t){s.addPost(t.newMessagePost)}}),(0,n.jsx)("div",{className:p,children:t})]})})),S=(0,j.Z)({form:"postAddMessageForm"})((function(s){return(0,n.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{name:"newMessagePost",component:x.gx,placeholder:"Enter your post message",validate:[m.C,g]})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{children:" Add post "})})]})})),v=P,C=e(4136),_=e(8687),b=e(7781),k=(0,b.qC)((0,_.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,C.Pi)(t))}}})))(v),T=function(s){return(0,n.jsxs)("div",{children:[(0,n.jsx)(l,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,setProfileStatus:s.setProfileStatus}),(0,n.jsx)(k,{})]})};var y=(0,e(9271).EN)((function(s){return(0,u.useEffect)((function(){var t,e=null!==(t=s.match.params.userId)&&void 0!==t?t:s.meId;e||s.history.push("/login"),s.getUserProfileTC(e),s.getProfileStatusTC(e)}),[s.match.params.userId,s.meId]),(0,n.jsx)("div",{children:(0,n.jsx)(T,{profile:s.profile,status:s.status,updateStatus:s.updateStatusTC,setProfileStatus:s.setProfileStatusAC})})})),w=(0,b.qC)((0,_.$j)((function(s){return{profile:s.profilePage.profile,meId:s.auth.userId,status:s.profilePage.status}}),{getUserProfileTC:C.d$,getProfileStatusTC:C.bs,updateStatusTC:C.OG,setProfileStatusAC:C.at}))(y)}}]);
//# sourceMappingURL=605.6f877475.chunk.js.map