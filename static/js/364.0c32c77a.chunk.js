"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[364],{2364:function(e,s,t){t.r(s),t.d(s,{default:function(){return N}});var r=t(2791),i=t(885),o="ProfileInfo_descriptionBlock__3wciT",n="ProfileInfo_contact__vOSry",l=t(4374),a=t(184),u=function(e){var s=(0,r.useState)(!1),t=(0,i.Z)(s,2),o=t[0],n=t[1],l=(0,r.useState)(e.status),u=(0,i.Z)(l,2),c=u[0],d=u[1];(0,r.useEffect)((function(){d(e.status)}),[e.status]);return(0,a.jsxs)("div",{children:[!o&&(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" Status: "})," ",(0,a.jsxs)("span",{onDoubleClick:function(){n(!0)},children:[" ",e.status||"Enter your status"," "]})]}),o&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:function(e){d(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.setProfileStatus(c),e.updateStatus(c)},value:c})})]})},c=t(6854),d=t(704),f=(0,d.Z)({form:"edit-profile"})((function(e){return(0,a.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,a.jsx)("button",{children:" save"}),e.error&&(0,a.jsx)("div",{children:e.error}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" Full name: "})," ",(0,c.Gr)("Full name",c.II,"fullName",[])]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" Looking for a job: "})," ",(0,c.Gr)("",c.II,"lookingForAJob",[],{type:"checkbox"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" Looking for a job description: "})," ",(0,c.Gr)("Looking for a job description",c.gx,"lookingForAJobDescription",[])]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" My professional skills: "})," ",(0,c.Gr)("My professional skills",c.gx,"MyProfessionalSkills",[])]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" About me: "})," ",(0,c.Gr)("About me",c.gx,"AboutMe",[])]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" Contacts: "})," ",Object.keys(e.profile.contacts).map((function(e){return(0,a.jsx)("div",{className:o,children:(0,a.jsxs)("b",{children:[" ",e,":  ",(0,c.Gr)(e,c.II,"contacts."+e,[])," "]})},e)}))]})]})})),h=function(e){return(0,a.jsxs)("div",{children:[e.isOwner&&(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("button",{onClick:e.goToEditMode,children:" edit "})," "]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" fullName: "})," ",e.profile.fullName]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" lookingForAJob: "})," ",e.profile.lookingForAJob?"Yes":"No"]}),e.profile.lookingForAJob&&(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" My professional skills: "})," ",e.profile.lookingForAJobDescription]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" About me: "})," ",e.profile.aboutMe]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:" Contacts: "})," ",Object.keys(e.profile.contacts).map((function(s){var t;return(0,a.jsx)(j,{contactTitle:s,contactValue:null===(t=e.profile)||void 0===t?void 0:t.contacts[s]},s)}))]})]})},j=function(e){return(0,a.jsxs)("div",{className:n,children:[(0,a.jsxs)("b",{children:[" ",e.contactTitle,":"]})," ",e.contactValue]})},p=function(e){var s=(0,r.useState)(!1),t=(0,i.Z)(s,2),n=t[0],c=t[1];return e.profile?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:o,children:[(0,a.jsx)(u,{status:e.status,updateStatus:e.updateStatus,setProfileStatus:e.setProfileStatus}),e.profile.photos.large?(0,a.jsx)("img",{src:e.profile.photos.large}):"\u041d\u0435\u0442 \u0444\u043e\u0442\u043e",(0,a.jsx)("div",{children:e.isOwner&&(0,a.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&e.setPhotoTC(s.target.files[0])}})}),n?(0,a.jsx)(f,{initialValues:e.profile,onSubmit:function(s){e.saveProfile(s).then((function(){c(!1)}))},profile:e.profile,error:e.error}):(0,a.jsx)(h,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){c(!0)}})]})}):(0,a.jsx)(l.Z,{})},x="Post_item__Qkg42",m=function(e){return(0,a.jsxs)("div",{className:x,children:[(0,a.jsx)("img",{src:"https://cdn1.flamp.ru/489671bbc112e7621d7d9f013bbb8a49_100_100.jpg"}),e.message,(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:" like "})," ",e.likesCount]})]})},v="MyPosts_postsBlock__q4d-u",b="MyPosts_posts__aTeRb",g=t(6139),P=t(9297),S=(0,P.D)(10),k=r.memo((function(e){var s=e.posts.map((function(e){return(0,a.jsx)(m,{id:e.id,message:e.message,likesCount:e.likesCount})}));return(0,a.jsxs)("div",{className:v,children:[(0,a.jsx)("h3",{children:" My posts "}),(0,a.jsx)(C,{onSubmit:function(s){e.addPost(s.newMessagePost)}}),(0,a.jsx)("div",{className:b,children:s})]})})),C=(0,d.Z)({form:"postAddMessageForm"})((function(e){return(0,a.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,a.jsx)("div",{children:(0,a.jsx)(g.Z,{name:"newMessagePost",component:c.gx,placeholder:"Enter your post message",validate:[P.C,S]})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:" Add post "})})]})})),T=k,_=t(4136),y=t(8687),I=t(7781),w=(0,I.qC)((0,y.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(s){e((0,_.Pi)(s))}}})))(T),A=function(e){return(0,a.jsxs)("div",{children:[(0,a.jsx)(p,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,setProfileStatus:e.setProfileStatus,isOwner:e.isOwner,setPhotoTC:e.setPhotoTC,saveProfile:e.saveProfile,error:e.error}),(0,a.jsx)(w,{})]})};var M=(0,t(9271).EN)((function(e){return(0,r.useEffect)((function(){var s,t=null!==(s=e.match.params.userId)&&void 0!==s?s:e.meId;t||e.history.push("/login"),e.getUserProfileTC(t),e.getProfileStatusTC(t)}),[e.match.params.userId,e.meId]),(0,a.jsx)("div",{children:(0,a.jsx)(A,{profile:e.profile,status:e.status,updateStatus:e.updateStatusTC,setProfileStatus:e.setProfileStatusAC,isOwner:!e.match.params.userId,setPhotoTC:e.setPhotoTC,saveProfile:e.saveProfile,error:e.error})})})),N=(0,I.qC)((0,y.$j)((function(e){return{profile:e.profilePage.profile,meId:e.auth.userId,status:e.profilePage.status,error:e.profilePage.error}}),{getUserProfileTC:_.d$,getProfileStatusTC:_.bs,updateStatusTC:_.OG,setProfileStatusAC:_.at,setPhotoTC:_.n6,saveProfile:_.Ii}))(M)}}]);
//# sourceMappingURL=364.0c32c77a.chunk.js.map